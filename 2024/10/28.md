# 2024/10/28の日報
## 取り組んだ課題一覧
* タイピング練習
* フルスタックエンジニアが教える 即戦力Railsエンジニア養成講座視聴
## わかったこと
* describe "#age" doではテストの対象を記載する。
  *  今回はuser.rbで記述されているdef age endに記載されたageメソッドをテストする。
  *  discribeの引数には文字列で引数を記述する。
*  contextにはどう言う条件下でテストを行うか記述する。
*  contextの定義の中にletを用いてコンテキストを表すユーザーを定義している。
  *  letはRspecで使用される構文
  *  ブロック内の評価結果をletの引数であるuserに取得することができる。
* User.new(birthday: Time.zone.now - 20.years)のbirthday:は属性であり、20年前の日付を設定している。
* itでは最終的にどう言う状態であることが正しいのか記述されている。
* expectの引数にuserのageメソッドを呼び出している。テスト対象となるメソッドの呼び出しを記述する。Rspecの期待値メソッド。
* eqはマッチャーといい、他にもメソッドが存在する。＝みたいな役割がある。
*  検証のショートカットはcommand + shift + c
*  to_iメソッドは整数に変換してくれるメソッド。
*  allowはRspecメソッドで特定のオブジェクトやクラスのメソッドの動作をテスト中に制御するために使用する。
  *  モックと呼ばれる。
  *  bofore doブロックの中に記述されることで他のテストが走る前に中身が実行される。  
*  allow(Time.zone).to receive(:now)ではTime.zoneメソッドが呼び出されたら、nowメソッドを呼ぶと言う意味
  *  Time.zone.nowメソッドが呼ばれるたびに本来の今の時間ではなく、指定された時間を返す。
  *  今回はand_return(Time.zone.parse('2024/04/01'))と記述したので'2024/04/01'が帰る
* .and_returnでしてされた値を返すと言う意味になる。
  *  今回は引数にTime.zone.parse('2024/04/01')を指定している
  *  parseは引数の文字列をTime.zone(日付オブジェクト)に変換する。
  *  一般的にはプログラムが使用できる形に変換すると言うこと。
  *  モジュールファンクションではJSONで記述された文字列をRubyの言語の変換すること
  *  Time.zone.nowの値は'2024/04/01'が入る。
*  docker-compose exec web bundle exec rspec -f d ./spec/models/と入力することでドキュメント形式で結果を表示することができる。
  *  -fはformatを意味する。dはdocumentを意味する。
  *  --order definedは定義されている順に実行する。と言う意味。
*  他のアクションやviewページに渡す必要のないデータはインスタンス変数ではなく、ローカル変数を使用する。
*  userのmeアクションは@userの生成されたインスタンス変数をviewページに送るアクション。
* before {get :new}でgetでnewメソッドにアクセスを擬似的に行なっている。
* viewはもらった値を単に表示するのではなく、modelを参照してmodelのデータの状態を表示する。
 * 各テスト内容のitが時効される前に実行される。
 * beforeを使用すると毎回このbeforeの内容を記述する必要がないのでコードがスッキリする。
* get :new でコントローラのnewアクションに対してgetリクエストを送信する。
  * get :new でRailはnewアクションを実行して通常のリクエストと同じようにresponseオブジェクトを生成する。
  * テストコードではモデルやビューやその他のレスポンスが期待通りに動くかを確認する。
* toはexceptの結果が指定した内容と一致するか確認するためのメソッド
* have_http_status(:ok)はレスポンスのHTTTPステータスコードが’200 ok'になることをチェックする。
 * okは200に対応するシンボル。
 * responseでステータスコードの200を返しているか確認するためのコード。
*  render_template :newでは指定されたテンプレート(newテンプレート)が表示されているか確認する。
 * newアクションが処理された後にview(new.html.erb)に表示されているか確認するテストを行なっている。
* assigns(:user)はコントローラで@userとしてビューに渡されたインスタンス変数を参照する。
 * assingsメソッドを使用することでコントローラのアクションからビューに渡されるインスタンス変数を@userにアクセスできるためビューで表示されたインスタンス変数が正しく表示されているか確認することができるメソッド。
* be_a_new(User)は新しいUser(データベースに保存されていないオブジェクト)オブジェクトであるか確認できるマッチャ。
 * これにより@userがUser.newで生成された新しいオブジェクトでありまだ保存されていないことを示している。
* RSpec.describe "Users", type: :request doはresponsディレクトリのusers_spec.rbで記述されているのでtype: :controllerでなくtype: :requestと記述
 * またbefore {get '/users/new'}のURLの指定ではusersから含めてパスを記述しなくてはいけない。                                    
## 感じたこと
* テストコードまでスムーズに書けるまでまだまだ膨大な時間がかかると思うが焦らず、できることを120%でやって地道にできる幅を広げていく
## 合計時間  
Today: 3.5h<br>
Total: 840.25h
