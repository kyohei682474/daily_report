# 2024/11/13の日報
## 取り組んだ課題一覧
* タイピング練習
* Ruby on Rails5速習実践ガイドをやる
## わかったこと
* もしジェネレートコマンドで直接データベースにアソシエーションの関連付けを行うにはrails g migration task user:referenceまたはAddUserIdToTaskにする
* アソシエーションの関連付けはデータベースとモデルファイルのセットで行う。
*  @task = current_user.tasks.new(task_params)とすることでcurrent_userに関連するtaskオブジェクトを生成している。
  * tasksと複数形にする理由としてはuserとtaskテーブルの関係は1:多の関係より複数形になる。
*  ユーザーに紐づいたタスクのみを全て表示するindexアクションを行うには@tasks = Task.allからcurrnet_user.tasksにする
  *  @task = Task.where(user_id: currnet_user.id)
  *  @current_user ||= User.find_by(id: session[:user_id]) if session[:user_id]
* whereメソッドはあるオブジェクトから条件を満たしたデータを複数取り出すことができるメソッド
  *  where(カラム名: 条件)
  *  カラム名は指定しているオブジェクトのカラム名にすること。
  *  SQLで使用したwhereの使用の仕方と同じ。
* @task = Task.find(params[:id])とするとURLに番号を打てば該当する詳細ページに遷移できてしまうので記述したユーザー以外見れないようにcuurent_user.tasks.find(params[:id])とする
* データを絞り込んで検索・更新する際には起点、絞り込み条件、実行部分と分けるといい
* 絞り込みの起点対象となるとのはモデルのクラス他にアソシエーションの関係で作成されたhas_many関連のオブジェクト
* distinctは重複したデータをまとめる役割。
* 今回の検索条件の使用の一例としてtaskの一覧画面に表示するタスクを作成した順に並べるときに使用する。
  *  @tasks = current_user.tasks.order(created_at: :desc)
* scopeは絞り込み条件に名前をつけてどこでも使用できるメソッドとする
  *  scope :recent, -> { order(created_at: :desc) }
  *  今回使用したorder(created_at: :desc)という絞り込み条件をスコープを利用してrecentという名前をつけた。
  *  tasks = Tasks.recentとすることで表示するタスクが作成した順番にソートをかけた状態で表示される。
*  controller内で同じ記述をしているメソッド内の処理がある場合フィルタを使用して同じ記述を避ける。
  *  privateメソッド下で共通する処理に名前をつける
  *  before_actionに共通する処理の名前を記述し、共通する処理を使用するメソッドを指定する。
*  文字列に含まれるURLをリンクとして表示させるにはgemにrails_autolinkをインストールしなくてはいけない。
*  admin_users_pathはアプリ内のリンクを生成するのに適したリンクで相対パス
*  admin_users_urlはメールアドレスやAPIなどのフルなURLが指定される場合に有効で絶対パス
*  authenticateメソッドは入力されたパスワードを引数として受け取り、データベースに保存されているパスワードハッシュと一致するか確認するためのメソッド。
* 自動テストを行うことで環境がバージョンアップしてもすぐに対応できたり、リファクタリングする際にも重要な役割を果たす。
  * テストは動作確認だけでなく、動作の詳細をチームで共有することができる。
  * 使用やインターフェースを深く考えるきっかけになる。
  * テストしやすいプロダクトコードを作ることが管理しやすい粒度で構成されたコードにしていける性質がある。
  * テストが成功するということはそれ動作が正常に行われていることを保証するということ。
* DSLはdomain-specific-languageの略でドメイン特化言語。問題解決に特化した言語。
* システムテストとはブラウザを通してアプリケーションの挙動を外部的に確認できるテスト。
* モデルのテストでは検証やデータの制御、複雑なロジックの挙動などを個別のテストケースとして記述する。
  * システムテストでは行いにくい条件下でのわずかな挙動の違いを確認するのに向いている。
  * プロダクトコードよりもテストを先にかくTDDにも適している。
* 結合テストはモデルのテストとシステムテストの間を埋めるテスト
  * モデルや単体テストでは確認しにくいものをテストする。
  * APIテストに利用される。                          
## 感じたこと
* 学習していることの本質も掴むように学習すると理解が深まる。
* sessionとクッキーの言語化がまだできていなく、実際にコードで書こうとするも手が止まってしまう。

## 合計時間  
Today: 4.0h<br>
Total: 892.75h
