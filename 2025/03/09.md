# 2025/03/09の日報
## 取り組んだ課題一覧
* タイピング練習
*  RailsでECサイトを作る
## わかったこと
* rake taskはタスクを定義してコマンドラインで実行するための機能
  *  ビルドツールや自動化ツールとして使用される。
  *  定義する場所をrakefileと呼ぶ。
  *  rakefileの中のdescはdescriptionの略語である。
  *  rake promotion_code:generateは名前空間名:タスク名
* プロモーションコードをrakeタスクで作成する理由としては開発者が管理する想定。
  * 　開発者が必要に応じて自由にプロモーションコードを管理できる。
  * 一括で何枚も作成する際に非常に便利だから。
  * 環境依存のためにアプリケーションロジックとは引き離したほうが良い。
  * 本番、ステージング環境への対応
  * CI/CDやスクリプトにも組み込むことができる
  * スクリプトとはコードを書く、動かすことがすぐできるプログラムのこと
* プログラムが動くまでの３つの流れ
  * 人間のわかる言葉でコンピュータにやらせたいことを書く(プログラミングを書く)
  * プログラミング言語で書いた内容をコンピュータにわかる内容に変換する(コンパイル)
  * コンパイルされた内容に応じてプログラムを動かす。
* バッチ処理とは一定の期間のデータをまとめて処理を行うコンピュータの処理方式。
* データベースに直接プロモーションコードを保存してしまうと生成ロジックがアプリケーションに含まれてしまい、コードの重複性や管理が煩雑になってしまう。
  * 複数のプロモーションコードを生成する場合にはアプリケーションロジックから生成するのは非効率。
  * データベースにインサートする回数が増えてしまい、トランザクション管理が難しくなる。
  * プロモーションコードの適応に関してはアプリケーションロジックで行うべきで、プロモーションコードの生成に関してはRakeタスクが行うべき領域。   
* numericalityは属性に整数のみが使用されているときに使用される。
  *  値として整数のみを使用する場合は:only_integer :trueとする
  *  他にもオプションを使用することで以上、以下、等しいなどカスタマイズすることができる。
*  loop doで無限ループを意図的に開始する。
*  モデルファイルにclass PromotionCode < ApplicationRecordと記述されていることで PromotionCodeというクラスが自動で生成される。
  * app/modelsにあるpromotion_code.rbは自動でロードされる
  * ファイル名がpromotion_code.rbであるならばPromotionCodeというクラスが自動で生成される
  * ApplicationRecordを継承することでActiveRecordのメソッド(exist?,where,create!)を使用することができる。
  * class PromotionCode < ApplicationRecordとすることでPromotionCodeクラスがApplicationRecordクラスを継承しているということになる
* RaceConditionはプロモーションレコードが一斉に２つ作成されたとすると偶然にも同じプロモーションレコードが２つ存在してしまい、片方でActiveRecord::RecordNotUniqueが起こる可能性があることを示す。
* データベースのロック機能はデータの一貫性を保つために他のプロセスやスレッドが同じデータに同時にアクセスするのを防ぐ仕組み
  * raceconditonを防ぐことができる。
  * lockはテールブルのロック機能や行のロック機能など２種類ある。
  * 完全なデータの整合性が確保されるが、他のプロセスからのアクセスがブロックされるのでパフォーマンスが低下する可能性がある。
  * LOCK TABLE promotion_codes WRITE;などによりプロセスが完了するまで他のプロセスからのアクセスができなくなる。
* SecureRandom はRubyの標準ライブラリに入っている、セキュアでランダムな値を生成するモジュール。
  * 生成を外部から予測することが不可能なのでセキュアな値を生成することができる。
  * データベースのunique性を合わせて使用することでよりセキュアな仕組みとなる。
* exist(条件)で条件に当てはまるデータは存在するかを確認するためのActiveRecordeが用意するメソッド。
*                  
## 感じたこと
* もっと要件定義に関してなぜ、どうして、どうすればより良くなるのかなど論理的に思考することが必要になる。
## 合計時間 
Today: 5.5h<br>
Total: 1165.75h
