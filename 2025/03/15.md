# 2025/03/15の日報
## 取り組んだ課題一覧
* タイピング練習
*  RailsでECサイトを作る
## わかったこと
*  unique制約をつけると自動でインデックスを作成してくれる機能があるが、実際はインデックスも追加作成することが望ましい。
  *  インデックスを作成することでテーブルから特定のカラムを検索する際に処理速度が急激に向上する。
  *  インデックスがないと全てのテールを一度検索してから目的のカラムを検索する必要があるのでそれだけ負担がかかり、処理に時間がかかる。
*  numericality:はバリデータであり、属性に数値のみが使われていることを確認するバリデーション
  *  オプションを使用することで以上、以下などの詳細な設定を行うことができる
  *  100~1000のオプションをgreater_than_or_equal_to: 100, less_than_or_equal_to: 1000とする
* inclusion: { in: [true, false] }はtureまたはfalseの値をもちそれ以外はエラーが封じるというvalidatar
  * inはEnumerable(配列や範囲オブジェクト)を受け取ることができる。
*  PromotionCodeはクラスメソッドなのでPromotionCode.updateにしてしまうと全てのPromotionCodeテーブルのusedを更新してしまう。
  * 全体の箱を作成する場合PromotionCode.newなどでインスタンスを生成する
* selfを省略して記述すると最初にインスタンスメソッドを探しにくる。
* ActiveRecordではデータの整合性を保つためにActiveRecordのメソッドを使用して値を取得、設定を行う
*  used?はboolean型専用のメソッド。
*  unique制約をつけるのはインデックスで付ける。validatesに使用するのはuniqness
  * 同じ値を２つ作成しないようにするためのもの。
  * SQLクエリを使用して同じ値がモデルのテーブルにないか調べる。
  * validatesを使用したuniqnessでは違うリクエストが同時に２つ来た時に同じ値が登録されるときに防ぐことができないのでデータベースレベルでuniqueを設定する必要がある。
  * Railsレベルでの一意性を保証
* sampleメソッドは配列の中からランダムで値を取り出し配列で出力する。引数の整数によってはその値を取り出すことができる
* SecureRandomはモジュールクラスであり、暗号的乱数ソースを用いてランダムなデータを生成する。
* before_saveはデータが保存される前に呼び出される
  *  今回はチェックアウトされる前に合計金額からプロモーションコードを利用して割引たいのでチェックアウトされオブジェクトが保存される前に使用する
* add_indexを使用することによりプロモーションコードからその名前が保存されているプロモーションのオブジェクトを検索するため
*            
## 感じたこと
* 調べたことを自分のものにするという意識を常に持たなくてはいけない
* コードの記述理由がはっきりしないのでなかなか上手く実装できない
## 合計時間 
Today: 7.5h<br>
Total: 1184.25h
