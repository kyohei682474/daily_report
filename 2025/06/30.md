# 2025/06/30の日報
## 取り組んだ課題一覧
* タイピング練習
* 自動テストを書く(Ruby)
## わかったこと 
* 実運用とRSpecテストではエラーが起こるタイミングが違う。
  * 例えば必要なインスタンス変数をセットするタイミンが違うので、実運用では問題にならなかった部分が、RSpecではエラーの原因になることが多々ある。
* renderは前のアクションの延長で行うので例えばcreateアクションからrenderでindexページ返す場合はcreateアクションの延長で行う
* redirect_to(root_path)ならば、ページ全体を更新すると共に、home#indexのアクションが働くことで自動でindexアクションが働く。
* リダイレクトされるとフラッシュメッセージはresponse.bodyに入らない。
  * RSpec的にはredirect_toは単に行き先を案内しているだけ。もしそお後の処理や状況を知りたいならば、follow_redirect!を記述する必要がある。
* flashは次のリクエストまで待つという性質があるので、もし失敗時にflash[:notice]だけではすぐにメッセージが表示されることはない。
* HTTPステータスコード402はフォームの送信失敗を意味して(バリデーションなどで処理に失敗という意味をなす)
  * この処理の流れを使用してフォームの失敗、エラー画面の描出を行う。
  * Turboは422 Unprocessable Entity を受け取ると成功していないのでHTML全体を描画する必要があると判断してflashメッセージを含めたビューを正しく描出する。
  * 明示的に422 Unprocessable Entityを記述しないとturboが勝手に成功したと判断してしまい、flashメッセージを表示させないことがある。
  * 今回の場合はturboがコントローラに明示的に422 Unprocessable Entityがなかったので勝手に成功しているものだと判断して部分更新する部分がないと判断してflash[:alert]を表示させなかった。
  *      
## 感じたこと
* テストを記述するとアプリケーションの仕組みを深く理解しようとする癖がつく
## 次やること
* 自動テストを書く(Ruby)
##  合計時間 
Today: 5.0h<br>
Total: 1541.55h
