# 2025/06/22の日報
## 取り組んだ課題一覧
* タイピング練習
* Every day Rspecを読む
## わかったこと 
* ダブルを使用した際のインスタンスは本物のオブジェクトではなく、偽物のオブジェクトであるので、アソシエーションの関係が関連するときはエラーが生じる。
* allow(projects).to receive(:create!).with(name: "Test Project").and_return(project_instance)の1行はメソッドを与えるという意味合いがある。
* letにparamsも指定することができるので、毎回同じパラメータを送る場合はletに指定してからparamsを呼び出す際に指定する。
* リクエストスペックは統合スペックに近い処理をしている。一連の処理をテストしているのでモックやスタブといった偽物のオブジェクトを使用することで正しく動くか検証することができるなくなってしまう。
* shoulda-matchersを使用することでmodelのバリデーションのテストやアソシエーションの関係などを1行で記述することができる。
* Capybaraはブラウザ上で再現し、画面表示、遷移、クリックなどの一連の流れが意図どうり動いているか確認することができる。
* テスト内でもし何度もファイル添付を繰り返す場合はモデルをテストで使用する際に添付ファイルごと属性に含めることを検討する。
  * attach_fileで行うテストは実行が遅くなりやく、重くなるから。
  * 毎回ディスクから画像の取り込み、DOMに反映、サーバーへ送信を繰り返しているために重く、遅くなりがち
  * そこでファクトリの中で添付ファイル付きオブジェクトを作成するようにする。
* バックグラウンド処理を行うためにqueue_adapterにテストを指定する必要がある。
  * これを行わないとエラー分が生じてtestと接続してくださいと出る。
* have_enqueued_jobはジョブがenqueued(キューに積まれているか)されているかを確認する。
* GeocodeUserJob はActiveJobを継承したクラスで、非同期処理を行うためのジョブクラス。
  * Railsにおいてバックグラウンド処理を行いたいタスクを定義する場所。
* instance_double("User")を使用することで実際のインターフェース（メソッド)と一致しているかを検証してくれるので安全に使用することができる。
  * 実際に存在しているメソッドしかテストできない
  *             
## 感じたこと
* 
## 次やること
* Every day Rspecを読む
##  合計時間 
Today: 6.0h<br>
Total: 1507.55h
