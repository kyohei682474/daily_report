# 2025/06/17の日報
## 取り組んだ課題一覧
* タイピング練習
* Every day Rspecを読む
## わかったこと 
* take_screenメソッドはテスト内のあらゆる場所でスクリーンショットを行い、画像でデバッグを行うことができる。
  * javascriptドライバを使用している時のみ使用することができる。もしhtmlファイルを保存する場合はsave_pageメソッドやsave_and_open_pageメソッドを使用する。
*  リクエストスペックはシステムと外部のクライアントとの通信のテストを行うことルーティングや実際のレスポンスJSON構造を把握する。
  * コントローラスペックテストとは違いより実戦に近いレイヤーでテストを行なっている。
*  expect(json["description"]).to eq "Some explanation here"を追加する目的としてはAPIが返すJSONデータの内容と一致するかどうかを確認する
*  APIはステートレスなのでAPIで外部のクライアントと通信するには毎回emailとaccess_tokenが必要となる。
* postメソッドをテストする際には初めにプロジェクトの作成をして、それをアクセストークンとともにparamsに一緒に渡すことでpostメソッドが実行される。
* paramsに入れるためにわざと、createアクションを使用してprojectを作成しない。
  * project_attiribute = FactoryBot.attributes_for(:project)
  * このように記述することでparamsにハッシュ形式で挿入することができる。
  * また今回はpostメソッドによってprojectが作成されるかをテストしているにも関わらず、postされる前にDBにprojectオブジェクトが作成されるのでテスト内容が崩れてしまう。
* buildメソッドはオブジェクトを生成するがDBに保存されないので、手動でsaveメソッドを使用する必要がある。
* Wardenをテストモードにすることで模擬的にログインした状態にできる。
* base.after(:each) { Warden.test_reset! }はテスト終了後のクリーンアップするためのコードで、これがなければそのまま継続的に以前のログインが継承されてしまう。
* logoutはすでにインスタンは関連付けされているのであとはどのスコープをログアウトすればいいのかわかればいいのでシンボルを渡す必要がある。
* .to_symメソッドはシンボルに変換してくれるメソッド。
* .underscoreメソッドはキャメルケースをスネークケースに変換するメソッド。
* 一覧は配列で詳細はハッシュである理由としてはデータの数に応じて返す型が変わってくるから
  * 複数のデータを返すときはarrayを使用して1つのデータを返す場合はhashを返すことにrestなっている。
  *          
## 感じたこと
* どうすればもっと良いコードになるか意識してコードを書くこと
## 次やること
* Every day Rspecを読む
##  合計時間 
Today: 3.0h<br>
Total: 1481.55h
