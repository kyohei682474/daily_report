# 2025/01/17の日報
## 取り組んだ課題一覧
* タイピング練習
*  RailsでECサイトを作る
## わかったこと
* before_actionを使用する際には利用する順番を意識して記述するとより綺麗なコードが書ける。
  *  実際にコントローラが使用されるところをイメージしてbefore_actionがどの順番で使用されるかをイメージすると順番がわかるようになる
  *  他のエンジニアがコードを読む時など流れに沿ってどのアクションが動くなどイメージすると思うのでわかりやすくなると思う
*  エラーハンドリングとはエラーが発生した後、エラーを対処する処理を走らせて処理を行うこと。
  *  エラーを起こすのではなく、意図したエラー対応を行う処理を行うこと。
  *  flash.now[:error_messages] を使用することでエラー内容を把握でき、ユーザーがなんでエラーが起きているのか分かりやすくなる。
  *  HTTP ステータスコード 422はHTTPは応答状態コードで、サーバーが要求本文のコンテンツ型を理解でき、要求本文内容が正しかったものの、中に含まれている指示が処理できなかったと言うことを示す。
  *  更新の際に不適切な処理が行われたときにステータスコード422を返す。
*  422 Unprocessable Entityを記述しなければエラーが起きているのにも関わらずデフォルトでステータスコード200 okが返ってしまうのでエラーの検出が難しくなる可能性がある。クライアント側に入力内容に誤りがあることを示す。
  *  restfullAPIの習慣ではエラーが生じた際にはて適切なエラーが表示されることが望ましい
  *  rederメソッドのオプションでstatusに記述することでHTTPステータスコードを明示的に表示することができる。
  *  適切なエラーコードを選択することでデバックが行いやすくなる。
  *  ステータスコードの例としては:no_contentでレスポンスボディーがない、:bad_requestで不正なリクエスト,:unauthorizedで認証が必要など
*  @itemの処理がうまくいかない場合は@item.errorsにエラーメッセージが格納される
*  @item.errors.full_messagesとすることでエラー情報を読みやすい形に取得して、配列として返す。
*  flash[:error_messages]を使用してしまうと次のリクエストまでフラッシュメッセージが残ってしまう。flash.now[:error_messages]とすることで現在のリクエスト内でテンプレートを際描画するため
  *  バリデーションエラーが生じた際に@item.errorsにエラー内容が格納されるが、それを詳しく、分かりやすくするために@item.errors.full_messagesとしている。
*  N+1問題は関連するデータベースを何度も参照してしまうことによるパフォーマンスの低下であり、関連するデータベースをくっつけてしまうことによって一回一回参照元にアクセスしなくても良くなるようにしなければいけない                   
## 感じたこと
* もっと他のエンジニアがコードを読むことを意識して記述することが大切だと感じた。
* 
## 合計時間 
Today: 2.5h<br>
Total: 1061.75h
